<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="780" height="588"><defs></defs><g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="23" y="23" width="304" height="15" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="23" y="37" width="760" height="386" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="16" y="31" width="760" height="385"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 16 31 L 776 31 L 776 416 L 16 416 L 16 31 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="16" y="16" width="304" height="15"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 16 16 L 320 16 L 320 31 L 16 31 L 16 16 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="16" y="30" width="760" height="386"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 16 30 L 776 30 L 776 416 L 16 416 L 16 30 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="355" y="50.5">ClientServices</text></g></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 586 188 L 585 215" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 581.1695039351113 204.68848702193165 L 585 215 L 589.582771008294 205.0000895061236" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 192 440 L 301 440 L 311 450 L 311 583 L 192 583 L 192 440"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 192 440 L 301 440 L 311 450 L 311 583 L 192 583 L 192 440 L 192 440" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 301 440 L 301 450 L 311 450 L 301 440" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="458">Users table:</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="473">- uid</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="488">- username</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="503">- password salt</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="518">- password hash</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="533">- last active</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="548">- ip</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="563">- port</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="197" y="578">- publicKey</text></g></g><g transform="translate(-6,-6) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 320 439 L 461 439 L 471 449 L 471 522 L 320 522 L 320 439"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 320 439 L 461 439 L 471 449 L 471 522 L 320 522 L 320 439 L 320 439" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 461 439 L 461 449 L 471 449 L 461 439" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="325" y="457">ActivePartners table,</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="325" y="472">PendingPartners table,</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="325" y="487">BlockedPartners table:</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="325" y="502">- user_uid</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="325" y="517">- parner_uid</text></g></g><g transform="translate(-6,-6) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 480 439 L 589 439 L 599 449 L 599 475 L 480 475 L 480 439"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 480 439 L 589 439 L 599 449 L 599 475 L 480 475 L 480 439 L 480 439" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 589 439 L 589 449 L 599 449 L 589 439" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="485" y="457">String results for</text><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="485" y="470">error messages.</text></g></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 516 417 L 529 438" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 396 417 L 396 438" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 298 417 L 288 439" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="31" y="79" width="365" height="325" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="24" y="72" width="365" height="325"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 24 72 L 389 72 L 389 397 L 24 397 L 24 72 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 24 97 L 389 97" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 24 195 L 389 195" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="168.5" y="91.5">WebServices</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="114.5">-socket: int</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="129.5">-loggedInUser: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="144.5">-loggedInPassword: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="159.5">-privateKey: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="174.5">-publicKey: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="189.5">-contacts: map&lt;string; ContactData&gt;</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="212.5">+generateSecurityKeys(): string[2]</text><path fill="none" stroke="#000000" d="M 29 212.5 L 228 212.5" stroke-miterlimit="10"></path></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="227.5">+registerUser(username: string, password: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="242.5">+unregisterUser(): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="257.5">+login(username: string, password: string, port: uint16): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="272.5">+refreshStatus(): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="287.5">+logout(): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="302.5">+getUser(): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="317.5">+getContacts(): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="332.5">+findContacts(search: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="347.5">+addContact(username: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="362.5">+acceptContact(username: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="377.5">+blockContact(username: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="29" y="392.5">+getConnectionData(username: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="415" y="79" width="363" height="115" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="408" y="72" width="363" height="115"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 408 72 L 771 72 L 771 187 L 408 187 L 408 72 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 408 97 L 771 97" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 408 120 L 771 120" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="545.5" y="91.5">NetworkSender</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="413" y="114.5">-socket: int</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="413" y="137.5">+requestRemoteAccess(username: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="413" y="152.5">+requestRemoteHelp(username: string): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="413" y="167.5">+acceptRemoteAccess(username: string, portTcp: int): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="413" y="182.5">+acceptRemoteHelp(username: string, portTcp: int): string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="535" y="223" width="112" height="57" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="528" y="216" width="112" height="57"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 528 216 L 640 216 L 640 273 L 528 273 L 528 216 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 528 241 L 640 241" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 528 264 L 640 264" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="537.5" y="235.5">NetworkListener</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="533" y="258.5">-socket: int</text></g></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="423" y="303" width="207" height="87" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="416" y="296" width="207" height="87"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 416 296 L 623 296 L 623 383 L 416 383 L 416 296 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 416 321 L 623 321" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 416 374 L 623 374" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="483.5" y="315.5">ContactData</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="421" y="338.5">+username: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="421" y="353.5">+lastActive: time_t</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="421" y="368.5">+connectionData: ConnectionData</text></g></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 390 296 L 415 304" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 404.03786423061723 304.9119097398422 L 415 304 L 406.60378190030934 296.89341702205434" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 334 L 647 333" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 637.0297668649936 337.6469830248906 L 647 333 L 636.6640673312673 329.23589374918504" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="655" y="287" width="114" height="102" opacity="0.2"></rect></g><g transform="translate(-6,-6) scale(1,1)"><rect fill="#ffffff" stroke="none" x="648" y="280" width="114" height="102"></rect></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 648 280 L 762 280 L 762 382 L 648 382 L 648 280 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 648 305 L 762 305" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><path fill="none" stroke="#000000" d="M 648 373 L 762 373" stroke-miterlimit="10"></path></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="659" y="299.5">ConnectionData</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="653" y="322.5">+ip: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="653" y="337.5">+mac: string</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="653" y="352.5">+port: uint16</text></g></g><g transform="translate(-6,-6) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="653" y="367.5">+publicKey: string</text></g></g></g></svg>